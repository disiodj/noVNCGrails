{"version":3,"sources":["eventtarget.js"],"names":["EventTargetMixin","_listeners","Map","type","callback","has","set","Set","get","add","event","forEach","call","defaultPrevented"],"mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;IAEqBA,gB;AACjB,8BAAc;AAAA;;AACV,SAAKC,UAAL,GAAkB,IAAIC,GAAJ,EAAlB;AACH;;;;qCAEgBC,I,EAAMC,Q,EAAU;AAC7B,UAAI,CAAC,KAAKH,UAAL,CAAgBI,GAAhB,CAAoBF,IAApB,CAAL,EAAgC;AAC5B,aAAKF,UAAL,CAAgBK,GAAhB,CAAoBH,IAApB,EAA0B,IAAII,GAAJ,EAA1B;AACH;;AACD,WAAKN,UAAL,CAAgBO,GAAhB,CAAoBL,IAApB,EAA0BM,GAA1B,CAA8BL,QAA9B;AACH;;;wCAEmBD,I,EAAMC,Q,EAAU;AAChC,UAAI,KAAKH,UAAL,CAAgBI,GAAhB,CAAoBF,IAApB,CAAJ,EAA+B;AAC3B,aAAKF,UAAL,CAAgBO,GAAhB,CAAoBL,IAApB,YAAiCC,QAAjC;AACH;AACJ;;;kCAEaM,K,EAAO;AAAA;;AACjB,UAAI,CAAC,KAAKT,UAAL,CAAgBI,GAAhB,CAAoBK,KAAK,CAACP,IAA1B,CAAL,EAAsC;AAClC,eAAO,IAAP;AACH;;AACD,WAAKF,UAAL,CAAgBO,GAAhB,CAAoBE,KAAK,CAACP,IAA1B,EACKQ,OADL,CACa,UAAAP,QAAQ;AAAA,eAAIA,QAAQ,CAACQ,IAAT,CAAc,KAAd,EAAoBF,KAApB,CAAJ;AAAA,OADrB;;AAEA,aAAO,CAACA,KAAK,CAACG,gBAAd;AACH","sourcesContent":["/*\r\n * noVNC: HTML5 VNC client\r\n * Copyright (C) 2019 The noVNC Authors\r\n * Licensed under MPL 2.0 (see LICENSE.txt)\r\n *\r\n * See README.md for usage and integration instructions.\r\n */\r\n\r\nexport default class EventTargetMixin {\r\n    constructor() {\r\n        this._listeners = new Map();\r\n    }\r\n\r\n    addEventListener(type, callback) {\r\n        if (!this._listeners.has(type)) {\r\n            this._listeners.set(type, new Set());\r\n        }\r\n        this._listeners.get(type).add(callback);\r\n    }\r\n\r\n    removeEventListener(type, callback) {\r\n        if (this._listeners.has(type)) {\r\n            this._listeners.get(type).delete(callback);\r\n        }\r\n    }\r\n\r\n    dispatchEvent(event) {\r\n        if (!this._listeners.has(event.type)) {\r\n            return true;\r\n        }\r\n        this._listeners.get(event.type)\r\n            .forEach(callback => callback.call(this, event));\r\n        return !event.defaultPrevented;\r\n    }\r\n}\r\n"]}