{"version":3,"sources":["crc32.js"],"names":["makeTable","c","table","n","k","crcTable","crc32","crc","buf","len","pos","t","end","i"],"mappings":";;;;;;;AAAA;AACA;AACA;AAGA;AACe,SAASA,SAAT,GAAqB;AAClC,MAAIC,CAAJ;AAAA,MAAOC,KAAK,GAAG,EAAf;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,GAApB,EAAyBA,CAAC,EAA1B,EAA8B;AAC5BF,IAAAA,CAAC,GAAGE,CAAJ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC1BH,MAAAA,CAAC,GAAKA,CAAC,GAAG,CAAL,GAAW,aAAcA,CAAC,KAAK,CAA/B,GAAsCA,CAAC,KAAK,CAAjD;AACD;;AACDC,IAAAA,KAAK,CAACC,CAAD,CAAL,GAAWF,CAAX;AACD;;AAED,SAAOC,KAAP;AACD,C,CAED;;;AACA,IAAIG,QAAQ,GAAGL,SAAS,EAAxB;;AAGA,SAASM,KAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,GAA9B,EAAmC;AACjC,MAAIC,CAAC,GAAGN,QAAR;AAAA,MACIO,GAAG,GAAGF,GAAG,GAAGD,GADhB;AAGAF,EAAAA,GAAG,IAAI,CAAC,CAAR;;AAEA,OAAK,IAAIM,CAAC,GAAGH,GAAb,EAAkBG,CAAC,GAAGD,GAAtB,EAA2BC,CAAC,EAA5B,EAAgC;AAC9BN,IAAAA,GAAG,GAAIA,GAAG,KAAK,CAAT,GAAcI,CAAC,CAAC,CAACJ,GAAG,GAAGC,GAAG,CAACK,CAAD,CAAV,IAAiB,IAAlB,CAArB;AACD;;AAED,SAAQN,GAAG,GAAI,CAAC,CAAhB,CAViC,CAUZ;AACtB","sourcesContent":["// Note: we can't get significant speed boost here.\r\n// So write code to minimize size - no pregenerated tables\r\n// and array tools dependencies.\r\n\r\n\r\n// Use ordinary array, since untyped makes no boost here\r\nexport default function makeTable() {\r\n  var c, table = [];\r\n\r\n  for (var n = 0; n < 256; n++) {\r\n    c = n;\r\n    for (var k = 0; k < 8; k++) {\r\n      c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));\r\n    }\r\n    table[n] = c;\r\n  }\r\n\r\n  return table;\r\n}\r\n\r\n// Create table on load. Just 255 signed longs. Not a problem.\r\nvar crcTable = makeTable();\r\n\r\n\r\nfunction crc32(crc, buf, len, pos) {\r\n  var t = crcTable,\r\n      end = pos + len;\r\n\r\n  crc ^= -1;\r\n\r\n  for (var i = pos; i < end; i++) {\r\n    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];\r\n  }\r\n\r\n  return (crc ^ (-1)); // >>> 0;\r\n}\r\n"]}